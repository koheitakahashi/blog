---
Title: scaffoldã‚’ä½¿ã£ã¦ã¿ã¾ã—ãŸ ~Ruby on Railså­¦ã³å§‹ã‚ã¾ã—ãŸ~
Category:
- Ruby on Rails
Date: 2019-10-24T08:52:11+09:00
URL: https://nmp300.hatenablog.com/entry/2019/10/24/085211
EditURL: https://blog.hatena.ne.jp/NMP300/nmp300.hatenablog.com/atom/entry/26006613454411927
---

## ã¯ã˜ã‚ã«
å…ˆæ—¥ã‹ã‚‰ã€Ruby on Railsã‚’å­¦ã³å§‹ã‚ã¾ã—ãŸã€‚

è±Šå¯Œãªæ©Ÿèƒ½ã«åœ§å€’ã•ã‚Œã€ä¸­ã€…ç†è§£ãŒé€²ã¿ã¾ã›ã‚“ãŒã€åˆ†ã‹ã£ãŸã“ã¨ã‚’ä¸€ã¤ãšã¤ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ã„ãã€ãªã‚“ã¨ã‹ç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚ŠãŸã„ã§ã™ã€‚

ä»Šå›ã¯ã€`scaffold`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ç°¡å˜ãªãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚

## ç’°å¢ƒ
Mac OS Catalina 10.15

Ruby 2.6.3

Rails 6.0.0

## æ‰‹é †

ä»Šå›ã®æµã‚Œã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

1. Raislã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ–°è¦ã«ä½œæˆã™ã‚‹

2. `scaffold`ã‚’ä½¿ã£ã¦ã¿ã‚‹

3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹

4. æœ¬å½“ã«ã§ãã¦ã„ã‚‹ã‹ã€ç¢ºèªã—ã¦ã¿ã‚‹


### 1. Raislã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ–°è¦ã«ä½œæˆã™ã‚‹
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€Railsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«å¿…è¦ãªåŸºæœ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ãŒç”¨æ„ã•ã‚Œã¾ã™ğŸ¤­
ä»Šå›ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åå‰ã‚’memoã«ã—ã¾ã™ã€‚

```
rails newã€€memo_app
```

ã—ã°ã—å¾…ã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ã€æˆåŠŸã—ãŸæ—¨ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚

```
Webpacker successfully installed
```

ã™ã‚‹ã¨ã€æ–°ãŸãªmemoãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒèª•ç”Ÿã—ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚

ã“ã‚Œã§ç¬¬1æ®µéšçµ‚äº†ã§ã™ã€‚

### 2. `scaffold`ã‚’ä½¿ã£ã¦ã¿ã‚‹

`scaffold`ã¨ã¯ã€CRUDã®æ©Ÿèƒ½ã‚’ä¸€æ°—ã«ä½œã£ã¦ãã‚Œã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚

CRUDã¨ã¯
Create(æ–°è¦ä½œæˆ)ã€€Read(èª­ã¿å‡ºã—) Update(æ›´æ–°)ã€€Delete(å‰Šé™¤)
ã®4ã¤ã®æ©Ÿèƒ½ã®ã“ã¨ã‚’ã„ã„ã¾ã™ã€‚

ã“ã‚ŒãŒä¸€ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§ã§ãã‚‹ã‚ã‘ã§ã™ãƒ»ãƒ»ãƒ»æã‚ã—ã„ğŸ¥¶

ã§ã¯ã€å…ˆã»ã©ã€ä½œæˆã—ãŸmemoãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦ã€å®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
`scaffold`ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã€`ãƒ¢ãƒ‡ãƒ«å(DBã®æ§‹é€ ã‚’è¨˜è¿°ã™ã‚‹ä»•çµ„ã¿)ã€ã‚«ãƒ©ãƒ å:ãƒ‡ãƒ¼ã‚¿å‹...`ã‚’æ¸¡ã—ã¦ã‚ã’ã¾ã™ã€‚

ä»Šå›ã¯ã€æ–‡å­—åˆ—å‹ã®ã€Œtitleã€ã¨ã€Œbodyã€ã‚«ãƒ©ãƒ ã‚’æŒã¤ã€Œmemoã€ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```
rails generate scaffold memo title:string body:string
```

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚‚è‡ªå‹•ã§è¨­å®šã—ã¦ãã‚Œã¾ã™ãƒ»ãƒ»ãƒ»æã‚ã—ã„ğŸ¥¶

ã“ã‚Œã§ç¬¬2æ®µéšãŒçµ‚äº†ã§ã™ã€‚

### 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã¨ã¯ã©ã†ã„ã†ã“ã¨ã‹ã€‚
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãªã‚“ã‚‰ã‹ã®æ“ä½œã‚’è¡Œã†ã¨ãã¯ã€SQLæ–‡ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

ã—ã‹ã—ã€Railsã¯ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãªã‚“ã‚‰ã‹ã®æ“ä½œãŒè¡Œã‚ã‚Œã‚‹åº¦ã«ä½œæˆã•ã‚Œã¦ã„ãã¾ã™ã€‚ã¤ã¾ã‚Šã€æœ€åˆã«ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰é †ç•ªã«èª­ã¿è¾¼ã‚“ã§ã„ãã“ã¨ã§ã€ç¾åœ¨ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®çŠ¶æ…‹ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã™ã€‚

ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†åˆ©ç‚¹ã¨ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨€èªãŒãªã‚“ã§ã‚ã‚Œã€æ“ä½œãŒå¯èƒ½ã«ãªã‚‹ã“ã¨ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚

ã§ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æœ€åˆã‹ã‚‰æœ€æ–°ã¾ã§ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ã•ã›ã¾ã™ã€‚

```
â¯ rails db:migrate

== 20191023095136 CreateMemos: migrating ======================================
-- create_table(:memos)
   -> 0.0019s
== 20191023095136 CreateMemos: migrated (0.0020s) =============================
```

ã“ã‚Œã§ã€ç¬¬3æ®µéšãŒçµ‚äº†ã§ã™ã€‚

### 4. æœ¬å½“ã«ã§ãã¦ã„ã‚‹ã‹ã€ç¢ºèªã—ã¦ã¿ã‚‹

æœ¬å½“ã«ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªãŒã§ãã¦ã„ã‚‹ã®ã§ã—ã‚‡ã†ã‹ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ãã‚Œã«ã¯ã€ã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã®ã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ã¾ã™ã€‚

```
rails server

=> Booting Puma
=> Rails 6.0.0 application starting in development 
=> Run `rails server --help` for more startup options
Puma starting in single mode...
* Version 3.12.1 (ruby 2.6.3-p62), codename: Llamas in Pajamas
* Min threads: 5, max threads: 5
* Environment: development
* Listening on tcp://localhost:3000
Use Ctrl-C to stop
```

ä¸Šè¨˜ã®çŠ¶æ…‹ã§ã€http://localhost:3000/memos
ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Œã°æˆåŠŸã§ã™ã€‚

<figure class="figure-image figure-image-fotolife" title="ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªã‚’ä½œæˆ">[f:id:NMP300:20191023191119p:plain]<figcaption>ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªã‚’ä½œæˆ</figcaption></figure>

ã—ã£ã‹ã‚Šã¨ã€ä½œæˆã€å†…å®¹è¡¨ç¤ºã€å‰Šé™¤ãŒã§ãã¦ã„ã¾ã™â€¼ï¸

<figure class="figure-image figure-image-fotolife" title="ã—ã£ã‹ã‚Šã¨ãƒ¡ãƒ¢ã®æŠ•ç¨¿ãŒã§ãã¦ã„ã‚‹">[f:id:NMP300:20191023191137p:plain]<figcaption>ã—ã£ã‹ã‚Šã¨ãƒ¡ãƒ¢ã®æŠ•ç¨¿ãŒã§ãã¦ã„ã‚‹</figcaption></figure>


## æœ€å¾Œã«

å‰å›å–ã‚Šçµ„ã‚“ã Sinatraã§ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹èª²é¡Œã§ã¯ã€ã¨ã¦ã‚‚è‹¦æˆ¦ã—ãŸCRUDæ©Ÿèƒ½ã®å®Ÿè£…ã§ã™ãŒã€Railsã¯ã“ã‚“ãªã«ç°¡å˜ã«ã§ãã‚‹ã“ã¨ã«é©šãã§ã™ğŸ¤­

é©šãã‚’é€šã‚Šè¶Šã—ã¦ã€æã•ã‚’æ„Ÿã˜ã¾ã—ãŸğŸ’¦

ã¾ã ã¾ã ã€åˆ†ã‹ã‚‰ãªã„ã“ã¨ã ã‚‰ã‘ã®Railsã§ã™ãŒã€ã“ã®ã‚ˆã†ã«è‡ªåˆ†ãªã‚Šã«ã¾ã¨ã‚ã¦ã¿ã‚‹ã¨å°‘ã—ãšã¤åˆ†ã‹ã£ã¦ã„ãæ„Ÿã˜ãŒã‚ã‚Šã¾ã™ã­ã€‚

æ˜æ—¥ã‹ã‚‰ã‚‚å¼•ãç¶šãå–ã‚Šçµ„ã‚“ã§ã„ãã¾ã™ğŸ’ª

## å‚è€ƒ
[CRUDã®åŸºç¤ã¨indexã‚¢ã‚¯ã‚·ãƒ§ãƒ³](http://igarashikuniaki.net/rails_textbook/crud.html)

[Ruby on Rails ã‚¬ã‚¤ãƒ‰ï¼šä½“ç³»çš„ã« Rails ã‚’å­¦ã¼ã†](https://railsguides.jp/)

[Scaffoldã«ã‚ˆã£ã¦ä½œæˆã•ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ« \- Ruby on Railså…¥é–€](https://www.javadrive.jp/rails/scaffold/index1.html)

[ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨ã¯ \- Ruby on Railså…¥é–€](https://www.javadrive.jp/rails/model/index5.html)
