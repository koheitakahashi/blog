---
Title: MacOSのアップデートとクリーンインストールを行いました
Category:
- Mac
- Catalina
Date: 2019-10-09T19:45:50+09:00
URL: https://nmp300.hatenablog.com/entry/2019/10/09/194550
EditURL: https://blog.hatena.ne.jp/NMP300/nmp300.hatenablog.com/atom/entry/26006613446931123
---

## はじめに
昨日、ついにMacOS Catalinaが提供開始されました😆
私は、発表された時から、SideCarを使ってみたくて、ついに提供開始されたということで、テンションが上がり、早速アップデートを行いました‼️
しかし、初期は色々な不具合があるそうで、少し待ってからアップデートするということも教えていただきました。

開発の現場では取り返しのつかない事態になることもあるそうなので、慎重にアップデートをしていきたいと思います😅

Fjordbootcampで、「OSアップデートした時は、クリーンインストールするのがおすすめ」と教えていただいたので、次回以降のクリーンインストールのために簡単ではありますが、この記事ではクリーンインストールの手順をまとめてみました。

## 環境
MacBookPro 13-inch, 2017

## クリーンインストールの手順

### 1. OSをアップデートする

まずは、OSをアップデートするところからです。古いOSのバージョンでクリーンインストールを行うと、綺麗な状態からOSをアップデートすることにより、少しMacが汚れてしまうそうです。

### 2. バックアップをしっかりとる

MacにはTimeMachineというソフトがあり、設定すれば自動でバックアップをとってくれます。クリーンインストールの前に、しっかりとバックアップをとっておきます。

### 3. リカバリーモードを起動

上記が終わったら、一度Macの再起動します。起動中、りんごのマークが出ている画面で、しばらく`command + R`キーを長押しします。
ずっと押したままにするとリカバリーモードが起動します。

そうなったら、一番したのディスクユーティリティを選択。そして、「APPLE SSD」を選択して、ウィンドウ上部の「消去」を選択。これで、SSDに入っているデータが全て消えます。

*必ずバックアップをとっておくこと！！*

### 4. OSを再インストール

ディクスユーティリティの画面から、メニューバーのAppleマークを押すと、リカバリーモードの最初の画面に戻ってくることができます。

そしたら、「MacOSを再インストール」を選択しましょう。

### 5. Mac本体の復元

再インストールが終わると、Macの初期設定画面に移ります。必要事項を入力して、そのまま進みます。

データ移行のところまで進んだら、「今は転送しない」を選択します。こうすることで、後で、自分で必要なソフト、ファイルを取捨選択しながらMacに入れることができます。

それが終わったら、トラックパッドやアクセシビリティ、キーボードなど、自分の好みだった設定にしていきます。

### 6. 開発環境の構築

#### brewをインストール

まずは、[macOS 用パッケージマネージャー — Homebrew](https://brew.sh/index_ja.html)をインストールしましょう。

#### 必要なソフトウェアをインストール

今回、私がインストールしたのは以下のソフトウェアです。他にもあったような気がしますが・・・💦すいません、忘れてしまいました💦

```
rbenv
readline
git
postgresql
vim
homebrew/services
```

#### ターミナルのテーマ、フォントを設定

ターミナルのテーマは[Iceberg \- dark blue color scheme for Vim / Neovim](https://cocopon.github.io/iceberg.vim/)です。
コマンドプロンプトは[pure](https://github.com/sindresorhus/pure)です。
フォントは前回までは、Rictyを使っていたのですが、Webページがつながらなかったので、一新して、[Source Han Code JP \| 源ノ角ゴシック Code](https://github.com/adobe-fonts/source-han-code-jp)に設定してみました。

#### 必要なgemをインストール

rbenvでRubyをインストールした後、gemのインストールを行いました。
今回、インストールしたgemは以下の通りです。これも何か漏れているかもしれません💦

```
rubocop
rake
Bundler
```

#### 必要なアプリをインストール

インストールしたアプリは以下の通りです。

```
VScode
slack
iThoughtsX
```

#### ホームディレクトを復元

以下のファイルをTimeMachineから復元しました。
```
.zshrc
.zshrc_profile
.vimrc
.ssh/
.gitconfig
```

#### VScodeの再設定

自分の好みの設定にVScodeを設定し直しました。


## 最後に

このような感じで、クリーンインストールを行いました。
元々、断捨離が好きな、ミニマリスト傾向の強い人間なのですが、綺麗な状態のデスクトップやDockを見るととても気持ちが良いです✨

また、VScodeの設定を見直すことができました。今まで何気なく使っていたのですが、不必要な拡張は入れないようにして、必要な拡張のみを入れ、設定ファイルもいじりました。
前より、少し使い勝手が良くなったような気がしています🤔

「自分の使っているツールを使い倒す」という旨の内容が達人プログラマーに書いてありました。日頃使っているツールを再設定し直すことで、よりそのツールへの理解が深まったような気がします。

Fjordbootcampのこれまでのプラクティスを参考にして、入れるソフトウェアやgemを決めました。それにより、さらっとではありますが、これまでのプラクティスの復習ができました😆

気をつけてOSのアップデートは行っていかなければなりませんが、その都度クリーンインストールを忘れないようにしていきたいです💪

あと、SideCar便利です‼️

## 参考文献
[Macbook Proをクリーンインストール&環境復元したよ](https://techracho.bpsinc.jp/hachi8833/2017_01_04/32378)

[お前らのターミナルはダサい \- Qiita](https://qiita.com/kinchiki/items/57e9391128d07819c321)

[macOS 復元から macOS を再インストールする方法 \- Apple サポート](https://support.apple.com/ja-jp/HT204904)

[VSCodeのオススメ拡張機能 24 選 \(とTipsをいくつか\) \- Qiita](https://qiita.com/sensuikan1973/items/74cf5383c02dbcd82234)

[Visual Studio Code 拡張 VSNotes でメモをとる \- ひよこまめ](https://blog.chick-p.work/blog/2019/20190528_vsnote-template/)

Fjordbootcampのプラクティス
