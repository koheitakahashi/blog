---
Title: ■
Date: 2020-08-10T15:54:37+09:00
URL: https://nmp300.hatenablog.com/entry/2020/08/10/155437
EditURL: https://blog.hatena.ne.jp/NMP300/nmp300.hatenablog.com/atom/entry/26006613612524062
Draft: true
---

<!-- 全体の構成 
- はじめに
    - フィヨルドでこれやりましたという前説
        - issueのリンク 
- この記事の対象
    - 対象
    - スコープを決める
- 実装した機能について
    - 前提条件の共有
        - フィヨルドブートキャンプがどういうサービスでどこで使われるものを想定しているのか
    - 自分が実装したこと
    - 自分が実装しなかったこと
- 実装した機能の動作
    - スクリーンショット
- 実際のコードの解説
    - 全体的な処理の流れの説明
    - 書いたコードの解説
        - コードを持ってきながらここはこういう意味で、こう考えて実装しましたなど。
        - 実際のコード
- 最後に
    - これはあくまで一例ということを伝える
    - より良い書き方・設計があれば教えて欲しいということを伝える
    - GitLabなどを少し拝見して、こうした方が良いと思ったということを伝える
- 参考にした資料
- 補足 ActionCableの世界観の説明は他の記事を書くこと
-->

## はじめに
私が2020年6月まで参加させていただいておりましたフィヨルドブートキャンプでは、スクラム開発を学ぶプラクティスとして、実際にスクラム開発の手法に則ってフィヨルドブートキャンプ受講生が日頃学習に使っているeラーニングのためのアプリを開発するというものがあります。

スクラム開発のプラクティスについて、詳しくは以前に書いた拙文がありますので、そちらをご覧ください。
<!-- スクラム開発のブログのリンク -->

そのプラクティスの中で、私が最後の任されたissueが以下の分報機能の実装でした。
<!-- 分報機能のissue -->

Vue.jsとActionCableを使って、上記のリアルタイムでCRUDができる分報機能を実装しました(大きな機能だったため、自分は本当に最小限の機能の実装し、大枠を作って、あとの細かいところは他の受講生の方に任せたという感じです)。  
正直なところ、このissueに着手し始めた当初は、「Vue.jsナニモワカラン」、「ActionCableナニソレワカラン」という感じで四苦八苦しておりましました。  
日本語・英語で検索しても、ActionCableの具体的な実践例が載っている記事をあまり見かけなかったため、これからActionCableを使われる方に少しでも参考になればと思い、この記事を書きました。  

設計が悪い、書き方が悪いというところは多々あると思いますが、あくまで一例として捉えていただければ幸いです。

## この記事について
### 対象としている読者
この記事は以下のような方々を対象として書きました。
- ActionCableの概要は掴めたけど、具体的にどのように書いていけば良いのか分からない。
- ActionCableの実践例を知りたい。

つまりは、一度もActionCableを本格的なコードを書いたことがない人を対象としております。
### 書くこと、書かなかったこと
<!-- ここはいらないかも -->
本記事では、以下のようなことについて書いております。
- 実際に書いたコードを下に、どういう意図で書いたのか、このコードはどういう意味なのか。
## 実装した機能について
### 前提
この分報機能はFJORD BOOT CAMPのeラーニングアプリの中の機能の一部として実装しました。
eラーニングアプリはどのような機能を備えているのかと申し上げると…
- アプリ内にメンターの方々が作成したプラクティス(カリキュラム)があり、それを受講生が見て、提出物を提出したり
- 受講生が毎日の学習の記録を綴った日報を作成することができたり、
- 提出物や日報に対してメンターの方や受講生の方がコメントをつけられたり

などなどの機能を備えております。

そのため、今回の分報機能は受講生がリアルタイムに学習の様子を呟いたりすることができるという、ブートキャンプ内のTwitterのような用途で使われることを想定して実装しました。
### 概要
ユーザーが分報の投稿・更新・編集・削除をリアルタイムですることができる機能を実装しました。

別々のユーザーがログインしている時、あるユーザーが分報のCRUDをすると、リアルタイム(ページのリロードせず)にそれが反映されているのが確認できます。
<!-- 動作確認のスクリーンショット -->
#### フレームワークのバージョンなど
- Ruby 2.6.5
- Ruby on Rails 6.0.3.1
- Node.js 12.2.0
- Vue.js 2.6.10
### 実装しなかったこと
以下のような機能が必要かと考えましたが、PRが大きくなりすぎて、時間がかかりすぎてしまうため、他の受講生の方々に実装を任せることとした次第です。

- 全ての分報を一気に表示させるのではなく、分報ページのスクロールに応じて表示する機能。
- ユーザー個別の分報をまとめたページの作成。
- 他のユーザーの分報にコメントを残す機能等々。
## 書いたコードの解説
### 全体的な処理の流れ
全体的な処理の流れは以下のようになります。
### それでは詳しく…
## 最後に
## 参考にさせていただいた資料
